pkgbase='pytorch'
pkgname=('pytorch')
arch=('loong64' 'x86_64')
pkgver=develop
pkgrel=99999999
source=(
'https://github.com/01org/tbb.git'
'https://github.com/asmjit/asmjit.git'
'https://github.com/dtrugman/pfs.git'
'https://github.com/facebook/zstd.git'
'https://github.com/facebookincubator/dynolog.git'
'https://github.com/facebookincubator/fbjni.git'
'https://github.com/facebookincubator/gloo.git'
'https://github.com/fmtlib/fmt.git'
'https://github.com/gflags/gflags.git'
'https://github.com/google/benchmark.git'
'https://github.com/google/flatbuffers.git'
'https://github.com/google/gemmlowp.git'
'https://github.com/google/glog.git'
'https://github.com/google/googletest.git'
'https://github.com/google/libnop.git'
'https://github.com/google/XNNPACK.git'
'https://github.com/GPUOpen-LibrariesAndSDKs/VulkanMemoryAllocator.git'
'https://github.com/houseroad/foxi.git'
'https://github.com/intel/ARM_NEON_2_x86_SSE.git'
'https://github.com/intel/ideep.git'
'https://github.com/intel/ittapi.git'
'https://github.com/intel/mkl-dnn.git'
'https://github.com/libcpr/cpr.git'
'https://github.com/libuv/libuv.git'
'https://github.com/malfet/PeachPy.git'
'https://github.com/Maratyszcza/FP16.git'
'https://github.com/Maratyszcza/FXdiv.git'
'https://github.com/Maratyszcza/NNPACK.git'
'https://github.com/Maratyszcza/psimd.git'
'https://github.com/Maratyszcza/pthreadpool.git'
'https://github.com/microsoft/mimalloc.git'
'https://github.com/mreineck/pocketfft'
'https://github.com/nlohmann/json.git'
'https://github.com/NVIDIA/cudnn-frontend.git'
'https://github.com/NVIDIA/cutlass.git'
'https://github.com/NVIDIA/DCGM.git'
'https://github.com/NVIDIA/nccl.git'
'https://github.com/NVIDIA/NVTX.git'
'https://github.com/NVlabs/cub.git'
'https://github.com/onnx/onnx-tensorrt.git'
'https://github.com/onnx/onnx.git'
'https://github.com/protocolbuffers/protobuf.git'
'https://github.com/pybind/pybind11.git'
'https://github.com/pytorch/cpuinfo.git'
'https://github.com/pytorch/fbgemm.git'
'https://github.com/pytorch/kineto.git'
'https://github.com/pytorch/pytorch.git'
'https://github.com/pytorch/QNNPACK.git'
'https://github.com/pytorch/tensorpipe.git'
'https://github.com/ROCmSoftwarePlatform/hipify_torch.git'
'https://github.com/shibatch/sleef.git'
'https://github.com/wjakob/clang-cindex-python3.git'
'https://github.com/Yangqing/ios-cmake.git'
'git://nas.xinmu.moe/gitlab.com/libeigen/eigen.git'
)
b2sums=(
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
'SKIP'
)


prepare() {
  # assembly source
  rm -rf fbgemm/third_party/asmjit fbgemm/third_party/cpuinfo fbgemm/third_party/cutlass fbgemm/third_party/googletest fbgemm/third_party/hipify_torch
  ln -s $PWD/asmjit fbgemm/third_party/asmjit
  ln -s $PWD/cpuinfo fbgemm/third_party/cpuinfo
  ln -s $PWD/cutlass fbgemm/third_party/cutlass
  ln -s $PWD/googletest fbgemm/third_party/googletest
  ln -s $PWD/hipify_torch fbgemm/third_party/hipify_torch
  rm -rf dynolog/third_party/DCGM dynolog/third_party/cpr dynolog/third_party/fmt dynolog/third_party/gflags dynolog/third_party/glog dynolog/third_party/googletest dynolog/third_party/json dynolog/third_party/pfs 
  ln -s $PWD/DCGM dynolog/third_party/DCGM
  ln -s $PWD/cpr dynolog/third_party/cpr 
  ln -s $PWD/fmt dynolog/third_party/fmt 
  ln -s $PWD/gflags dynolog/third_party/gflags 
  ln -s $PWD/glog dynolog/third_party/glog 
  ln -s $PWD/googletest dynolog/third_party/googletest 
  ln -s $PWD/json dynolog/third_party/json 
  ln -s $PWD/pfs dynolog/third_party/pfs 

  cd pytorch 

 
}

build() {
echo 
}
check() {
echo
}
package() {
echo 
}
